This zip file contains the MATLAB code, Stk simulation and files, reports, and sources for the CDR final detumbling simulation. 

In order to open and view the STK simulation you need to download and unzip the file, then look for the STK Scenario file within 
the folder (STKFiles), it should have a blue STK logo on the left and it is named (CDRFinalSIm).

within the reports tab you will find a .csv file named (Satellite-GASRATS-To-Facility-USU...) This file contains all access instances
within a 1 week period, totaling in about 7.5 hours of access. or about 1 hour of access a day. These Access windows are around 9 minutes
on average. This access is based on a 60 degree cone sensor on the -z axis of the satellite and a ground station object at the latitude and 
longitude of the USU SER building. 

Within the MATLABCode folder you will find the modified final simulation code which includes the code to write an STK .a attitude file in the
format of STK AttitudeTimeQuatAngVels (https://help.agi.com/stk/12.5.0/index.htm#stk/example_AttitudeFile4.htm) This version of the simulation
has a timestep decreased from 240 seconds to 10 seconds for increased visual smoothness within the STK 3d window.

IMPORTANT: The cubesat attitude in this simulation seems suspect as the satellite detumbles but shows no alignment between permanent magnet axis and 
Earth magnetic field vector. We need to independently verify the quaternion values at different times throughout the state vector directly from the MATLAB
file and see if this unexpected behavior is being shown there. The problem could also be with the .a attitude file.

ALSO IMPORTANT: The access data between GASRATS TPA and the USUSER buiilding is also suspect. We need to look more into pointing settings of TPA sensor
object because after aligning with -z axis of satellite in a different way the sensor accesed the ground station for only about 30 minutes over the full week.
We should run many different configurations of antenna to determine whether putting the sensor on the negative axis of our permanent magnet creates the most 
access as expected.
